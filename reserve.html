<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <title>Hot Stuff Restaurant Reservations</title>
    
</head>

<body>
    <div class="jumbotron">
            <h1 class="display-4 text-center">Request a reservation</h1>
            
            <div class="row justify-content-center">
                <a class="btn btn-primary btn-lg mr-5" href="./tables" role="button"><i class="fa fa-clipboard-list"></i> View tables</a>
                <a class="btn btn-light btn-lg ml-5" href="./home" role="button"><span class="fa fa-home"> Home</span></a>
            </div>

    </div>

    <div class="card">
        <div class="card-header">
          <h3><strong>Request a table</strong></h3>
        </div>
        <div class="card-body">
          <form method="POST" role="form">

            <div class="form-group">
              <label for="name">Name: </label>
              <input type="text" class="form-control" id="name">
            </div>

            <div class="form-group">
              <label for="role">Phone Number: </label>
              <input type="text" class="form-control" id="phone">
            </div>

            <div class="form-group">
              <label for="age">E-mail address: </label>
              <input type="text" class="form-control" id="email">
            </div>

          </form>
          <br>
          <div class="text-right">
            <button type="submit" class="btn btn-primary btn-md" id="reserve-btn"><span class="fa fa-fire"></span> Request Table</button>
          </div>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script>
        
        $("#reserve-btn").on("click", function(event) {
          event.preventDefault();
          var newCustomer = {
            name: $("#name").val().trim(),
            email: $("#email").val().trim(),
            phone: $("#phone").val().trim()
          };  
          console.log(newCustomer);  

          $.post("/api/reserve", newCustomer, function(data) {
            console.log(data);
            alert("Got a table or position on waitlist");
          });
          $("#name").val(""); 
          $("#email").val(""); 
          $("#phone").val("");  
        });
        
        
      </script>
      <!-- could set up later so that the js in a separate file would be served -->
</body>
</html>